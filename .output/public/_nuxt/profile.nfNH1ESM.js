import{C as I,A,p as D,a as U,R,P as L}from"./index.1h4uB0z4.js";import{j as b,a as _,N as d,O as r,J as a,u as o,r as P,k as B,G as O,Z as t,_ as s,a4 as g,$ as f,a2 as S,P as C,V as u,a5 as Q,x as X}from"./swiper-vue.VD2cd0Tn.js";import{u as Y}from"./companies.QJKpwvsD.js";import{u as q}from"./auth._46xZgze.js";import{A as M,B as v}from"./entry.mbXDUFAE.js";import{_ as z}from"./TheModal.vue.D5WExyNl.js";import{_ as y}from"./TheButton.vue.dnePxaYL.js";import{_ as w}from"./TheInput.vue.yvGVSlwe.js";import{o as G}from"./vue-datepicker.g4gMPooH.js";import{S as j}from"./TheSceleton.zP0zdLUr.js";import{T as J}from"./ThePreloader.8F5PxOLg.js";import{_ as T}from"./_plugin-vue_export-helper.x3n3nnut.js";import{_ as k}from"./TheTextContent.vue.4zzZJEtM.js";import{_ as Z}from"./nuxt-link.ft5LyyVp.js";import{T as V}from"./TheContentBlock.9Z60fJaS.js";import{u as F}from"./index.3ZLbimt4.js";import"./index.aX4wazua.js";const H=b({__name:"ProfileContentChart",setup(e){I.register(A,D,U,R),I.defaults.color="#b6b6b6";const m=_({labels:["Выполненные задания","Выполненные IQ тесты","Активность","Посещаемость"],datasets:[{backgroundColor:["rgba(109,252,118,0.4)","rgba(252,155,0,0.91)","rgba(0,121,255,0.4)","rgba(255,9,0,0.68)"],data:[70,70,90,100]}]}),x=_({responsive:!0,maintainAspectRatio:!1});return(p,h)=>(d(),r("div",null,[a(o(L),{class:"text-white",style:{"{color":"white"},data:o(m),options:o(x)},null,8,["data","options"])]))}}),K={class:"mb-8 dark:text-white tracking-widest"},W={class:"flex flex-col gap-y-6"},tt={key:0,class:"flex max-sm:flex-wrap max-sm:justify-center select-none text-gray-600 gap-x-2"},et={class:""},st=["src"],at={class:"my-2 mx-2"},ot={class:"text-xl dark:text-white select-none tracking-wide"},lt={class:"dark:text-white"},nt={key:0,class:"dark:text-white tracking-widest font-bold"},dt={key:1,class:"dark:text-white tracking-widest font-bold"},it={key:1,class:"flex items-center gap-x-4"},rt={class:"flex flex-col gap-y-2"},ct={class:"flex flex-col gap-y-2 ml-2 w-full"},ut={class:"text-sm"},ft={class:"text-gray-500 dark:text-white font-mono"},mt={key:0,class:"font-bold tracking-widest"},xt={class:"text-sm"},ht={class:"text-gray-500 dark:text-white font-mono"},pt={class:"font-bold tracking-widest"},gt={class:"text-sm"},wt={class:"text-gray-500 flex gap-x-2 dark:text-white font-mono"},_t={key:0,class:"font-bold tracking-widest"},yt={key:1},kt={class:"w-6/12 max-lg:w-full flex flex-col gap-y-10"},vt={class:""},bt={class:"text-gray-500 dark:text-white font-mono"},$t={class:"dark:text-white font-bold tracking-wide mt-2"},Ct={key:0},jt=t("div",{class:"bg-black w-full h-full absolute top-0 left-0 opacity-40 rounded-lg"},null,-1),Vt=t("div",null,[t("h2",{class:"text-center text-xl tracking-widest font-bold dark:text-white"},"Личная информация")],-1),Et={class:"w-full"},Nt={class:"mt-10 flex items-center justify-around"},It={class:"flex flex-col text-center w-3/12 dark:text-white tracking-widest"},Pt={class:"dark:text-gray-200 text-gray-400 font-bold text-[14px]"},Bt={class:""},St={class:"flex flex-col text-center w-3/12 dark:text-white tracking-widest"},Mt={class:"dark:text-gray-200 text-gray-400 font-bold text-[14px]"},Tt={class:""},At={class:"px-10 max-sm:px-0"},Dt={class:"my-10 flex max-lg:gap-x-2 max-md:gap-y-2 max-md:flex-wrap max-md:justify-center justify-between"},Ut={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center"},Rt={class:"dark:text-white ml-1 tracking-widest font-bold"},Lt={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center"},Ot={class:"dark:text-white ml-1 tracking-widest font-bold"},Qt={class:"my-10 flex max-lg:gap-x-2 max-lg:gap-y-4 max-lg:flex-wrap max-md:justify-center justify-between items-center"},Xt={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center"},Yt={class:"dark:text-white ml-1 tracking-widest font-bold"},qt={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center border p-4 rounded-xl shadow-md dark:shadow-none text-center"},zt={key:0,class:"dark:text-white ml-1 tracking-widest font-bold text-sm"},Gt={key:1,class:"dark:text-white ml-1 tracking-widest font-bold text-sm"},Jt={key:0,class:"flex gap-x-1 justify-center"},Zt={class:"my-10 flex max-lg:gap-x-2 max-md:flex-wrap max-md:justify-center justify-between"},Ft={class:"gap-y-2 flex flex-col w-5/12 max-lg:w-full justify-center"},Ht={class:"dark:text-white ml-1 tracking-widest font-bold"},Kt={class:"flex justify-around max-sm:flex-col max-sm:gap-y-2"},Wt=b({__name:"ProfileContentUserInfo",props:{showInfo:{type:Boolean,default:!1},getCode:{type:Boolean,default:!1},userEdit:{type:Object,required:!0,default:()=>{}}},setup(e){const m=Y(),x=_(null);M("(max-width: 700px)");const p=P(v(x));B(()=>({transition:".3s ease-out all",transform:`rotateX(${p.roll*1}deg) rotateY(${p.tilt*1}deg)`}));const h=_(null);v(h);const l=q(),$=new Date(l.user.date_of_birth).toLocaleDateString();return O(()=>{m.loadCurrentCompany()}),(i,n)=>{var E;return d(),r("div",{onClick:n[9]||(n[9]=c=>{o(l).user.id?e.showInfo=!e.showInfo:e.showInfo=!1,e.userEdit={...o(l).user}}),"on:showModal":n[10]||(n[10]=c=>{e.showInfo=!0}),class:"w-full p-6 relative col-span-2 max-sm:col-auto shadow-lg dark:shadow-md dark:border-t dark:border-t-gray-500 cursor-pointer dark:shadow-gray-500 rounded-md transition-all duration-200"},[t("h2",K,s(i.$t("Личные данные")),1),t("div",{class:S([{blur:!o(l).user.id},"flex gap-x-10 max-lg:flex-wrap gap-y-10 justify-around"])},[t("div",W,[o(l).user.id?(d(),r("div",tt,[t("div",et,[t("img",{class:"w-[100px] h-[100px] rounded-full shadow-lg dark:shadow-none",src:o(l).get_server_domain+o(l).user.photo_url,alt:""},null,8,st)]),t("div",at,[t("h3",ot,s(o(l).user.first_name)+" "+s(o(l).user.last_name),1),t("p",lt,s(Math.trunc((new Date-new Date(o(l).user.date_of_birth))/1e3/3600/24/365)+" лет"),1),o(l).user.role==="Администратор сайта"?(d(),r("p",nt,s(o(l).user.role),1)):o(l).user.role==="Сотрудник"?(d(),r("p",dt,s(o(l).user.position),1)):g("",!0)])])):(d(),r("div",it,[a(j,{"border-radius":"100px",width:"100px",height:"100px"}),t("div",rt,[a(j,{width:"150px",height:"20px","border-radius":"5px"}),a(j,{width:"60px",height:"15px","border-radius":"5px"})])])),t("div",ct,[t("div",ut,[t("p",ft,[f(s(i.$t("Email"))+": ",1),o(l).user.id?(d(),r("span",mt,s(o(l).user.email),1)):g("",!0)])]),t("div",xt,[t("p",ht,[f(s(i.$t("Номер"))+": ",1),t("span",pt,s((E=o(l).user.phone)==null?void 0:E.slice(4,13)),1)])]),t("div",gt,[t("p",wt,[f(s(i.$t("Зароботная плата"))+": ",1),o(l).user.id?(d(),r("span",_t,s(o(l).user.salary+" сум"),1)):(d(),r("span",yt))])])])]),t("div",kt,[t("div",vt,[t("p",bt,s(i.$t("Компания"))+":",1),t("p",$t,s(o(m).company.description),1)])])],2),o(l).user.id?g("",!0):(d(),r("div",Ct,[jt,a(J)])),e.showInfo?(d(),C(z,{key:1,onShowModal:n[8]||(n[8]=c=>{e.showInfo=!e.showInfo,e.getCode=!1})},{default:u(()=>[t("form",{onSubmit:n[7]||(n[7]=Q(c=>{var N;return(N=o(l))==null?void 0:N.update_user({user:e.userEdit,update_type:"update-my"})},["prevent"]))},[Vt,t("div",Et,[t("div",Nt,[t("div",It,[t("p",Pt,s(i.$t("Должность:")),1),t("p",Bt,s(e.userEdit.position),1)]),t("div",St,[t("p",Mt,s(i.$t("Заработная плата:")),1),t("p",Tt,s(e.userEdit.salary+" "+i.$t("сум")),1)])]),t("div",At,[t("div",Dt,[t("div",Ut,[t("p",Rt,s(i.$t("Имя")+":"),1),a(w,{type:"text",modelValue:e.userEdit.first_name,"onUpdate:modelValue":n[0]||(n[0]=c=>e.userEdit.first_name=c)},null,8,["modelValue"])]),t("div",Lt,[t("p",Ot,s(i.$t("Фамилия")+":"),1),a(w,{type:"text",modelValue:e.userEdit.last_name,"onUpdate:modelValue":n[1]||(n[1]=c=>e.userEdit.last_name=c)},null,8,["modelValue"])])]),t("div",Qt,[t("div",Xt,[t("p",Yt,s(i.$t("Телефон")+":"),1),a(w,{type:"tel",modelValue:e.userEdit.phone,"onUpdate:modelValue":n[2]||(n[2]=c=>e.userEdit.phone=c)},null,8,["modelValue"])]),t("div",qt,[t("div",null,[e.getCode?(d(),r("p",Gt,s(i.$t("Введите Код")+":"),1)):(d(),r("p",zt,s(i.$t("Изменить номер")+":"),1))]),e.getCode?(d(),r("div",Jt,[a(w,{type:"text",maxlength:"1",class:"w-[40px] h-[45px] rounded text-center font-bold text-xl"}),a(w,{type:"text",maxlength:"1",class:"w-[40px] h-[45px] rounded text-center font-bold text-xl"}),a(w,{type:"text",maxlength:"1",class:"w-[40px] h-[45px] rounded text-center font-bold text-xl"}),a(w,{type:"text",maxlength:"1",class:"w-[40px] h-[45px] rounded text-center font-bold text-xl"})])):g("",!0),t("div",null,[e.getCode?g("",!0):(d(),C(y,{key:0,t:"button",type:"change",class:"p-2 text-sm rounded-xl border shadow-md dark:shadow-none font-bold tracking-widest",onClick:n[3]||(n[3]=c=>{e.getCode=!0})},{default:u(()=>[f(s(i.$t("Изменить")),1)]),_:1})),e.getCode?(d(),C(y,{key:1,t:"button",type:"change",class:"p-2 text-sm rounded-xl border shadow-md dark:shadow-none font-bold tracking-widest",onClick:n[4]||(n[4]=c=>{e.getCode=!0})},{default:u(()=>[f(s(i.$t("Подвердить")),1)]),_:1})):g("",!0)])])]),t("div",Zt,[t("div",Ft,[t("p",Ht,s(i.$t("Дата рождения")+":"),1),a(o(G),{type:"text",modelValue:o($),"onUpdate:modelValue":n[5]||(n[5]=c=>X($)?$.value=c:null)},null,8,["modelValue"])])])]),t("div",Kt,[a(y,{class:"w-4/12 max-sm:w-full py-2 rounded-full",t:"button",type:"danger",onClick:n[6]||(n[6]=c=>{e.showInfo=!1,e.getCode=!1})},{default:u(()=>[f(s(i.$t("Отмена")),1)]),_:1}),a(y,{class:"w-4/12 max-sm:w-full py-2 rounded-full",t:"submit",type:"success"},{default:u(()=>[f(s(i.$t("Сохранить")),1)]),_:1})])])],32)]),_:1})):g("",!0)],32)}}}),te={};function ee(e,m){return d(),r("div")}const se=T(te,[["render",ee]]),ae={};function oe(e,m){const x=Z;return d(),r("div",null,[a(x,{to:" "})])}const le=T(ae,[["render",oe]]),ne={class:"w-full p-6 dark:border-t dark:border-t-gray-500 dark:shadow-md shadow-lg dark:shadow-gray-500 cursor-pointer rounded-md hover:transform hover:-translate-y-2 transition-all duration-200"},de={class:"dark:text-white tracking-widest"},ie=b({__name:"ProfileContent",props:{activeNav:{type:Boolean,default:!1}},setup(e){const m=_(null);M("(max-width: 700px)");const x=P(v(m));B(()=>({transition:".3s ease-out all",transform:`rotateX(${x.roll*1}deg) rotateY(${x.tilt*1}deg)`}));const p=_(null);return v(p),(h,l)=>(d(),r("div",{class:S(["w-full grid gap-y-10 gap-x-10 grid-cols-3 max-lg:grid-cols-2 max-sm:grid-cols-1",{"max-[1150px]:grid-cols-2":e.activeNav,"max-[1150px]:grid-cols-3":!e.activeNav}])},[a(Wt,{"get-code":h.getCode},null,8,["get-code"]),t("div",ne,[t("h2",de,s(h.$t("Личная статистика")),1),a(H)]),a(V,{class:""},{default:u(()=>[a(k,null,{default:u(()=>[f(s(h.$t("Последние задания")),1)]),_:1}),t("div",null,[a(le)])]),_:1}),a(V,{class:""},{default:u(()=>[a(k,null,{default:u(()=>[f(s(h.$t("Уведомления")),1)]),_:1}),a(se)]),_:1}),a(V,{class:""},{default:u(()=>[a(k,null,{default:u(()=>[f(s(h.$t("")),1)]),_:1})]),_:1})],2))}}),re={class:"flex flex-col"},ce={class:"w-full mx-auto"},Ee=b({__name:"profile",props:{activeNav:{type:Boolean,default:!1}},setup(e){return F({title:"Профиль",description:"Личный кабинет | Текущая информация обо мне"}),(m,x)=>{const p=ie;return d(),r("div",re,[a(k,{"text-type":"pageTitle"},{default:u(()=>[f(s(m.$t("Страница профиля")),1)]),_:1}),t("div",ce,[a(p,{activeNav:e.activeNav},null,8,["activeNav"])])])}}});export{Ee as default};
