import{u as b}from"./index.3ZLbimt4.js";import{_ as f}from"./TheBreadcrumbs.vue.tn5850Gm.js";import{u as M}from"./companies.QJKpwvsD.js";import{h as H}from"./entry.mbXDUFAE.js";import{T as B}from"./TheContentBlock.9Z60fJaS.js";import{_ as j}from"./TheSearch.vue.Mxwb5Qn7.js";import{_ as I}from"./TheFilter.vue.wwoAEfG9.js";import{_ as S}from"./nuxt-link.ft5LyyVp.js";import{u as T}from"./auth._46xZgze.js";import{j as y,N as i,O as c,J as o,V as r,u as l,Z as e,_ as t,a4 as g,w as N,a9 as V,$ as m,P as v,I as $,a7 as C}from"./swiper-vue.VD2cd0Tn.js";import{_}from"./TheTextContent.vue.4zzZJEtM.js";import{_ as h}from"./TheButton.vue.dnePxaYL.js";import{_ as W}from"./TheModal.vue.D5WExyNl.js";import{S as D}from"./TheSceleton.zP0zdLUr.js";import"./index.aX4wazua.js";import"./_plugin-vue_export-helper.x3n3nnut.js";const L={class:"my-6"},U={class:"flex items-center gap-x-4 w-3/12 max-lg:w-full max-lg:x-mx-auto"},E=["src"],O={class:"tracking-widest font-bold max-xl:text-center"},Z={class:"flex flex-col items-center justify-center w-5/12 max-lg:w-full mx-auto"},q={key:0,class:"text-lg font-bold tracking-widest mb-2"},A={key:1,class:"text-lg font-bold tracking-widest mb-2"},F={class:"text-center flex flex-col gap-y-2"},G={key:0,class:"tracking-widest text-sm text-gray-600"},J={class:"tracking-widest text-md"},P={class:"w-2/12 max-[1241px]:w-full max-lg:x-mx-auto text-center"},R={key:0,class:"tracking-widest font-bold"},z=y({__name:"DepartmentUserList",props:{userItem:{type:Object,required:!0}},setup(a){const s=T();return(p,n)=>{const d=S;return i(),c("div",L,[o(d,{to:`/base/users/${a.userItem.id}`,class:"transition-all shadow-md hover:shadow-lg border dark:border-none dark:shadow-none dark:bg-gray-400 dark:hover:bg-gray-300 p-4 rounded-lg flex max-[1241px]:flex-col max-[1241px]:gap-y-4 justify-between items-center cursor-pointer"},{default:r(()=>[e("div",U,[e("img",{class:"w-14 h-14 rounded-full",src:l(s).get_server_domain+a.userItem.photo_url,alt:""},null,8,E),e("h2",O,t(a.userItem.first_name+" "+a.userItem.last_name),1)]),e("div",Z,[l(s).user.role==="Администратор сайта"?(i(),c("p",q,t(p.$t("Роль | Должность")),1)):(i(),c("p",A,t(p.$t("Должность")),1)),e("div",F,[l(s).user.role==="Администратор сайта"?(i(),c("h2",G,"("+t(a.userItem.role)+")",1)):g("",!0),e("h2",J,t(a.userItem.position),1)])]),e("div",P,[l(s).user.role==="Администратор сайта"||l(s).user.role==="Администратор компании"?(i(),c("h2",R,t(p.$t("Дата регистрации")),1)):g("",!0)])]),_:1},8,["to"])])}}}),K={class:"mb-10"},Q={class:"text-base text-white bg-blueSemiLight py-2 px-4 rounded-full"},X={class:"flex items-center gap-x-4"},Y=e("div",null,[e("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none"},[e("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})])],-1),ee=e("div",null,[e("svg",{width:"15px",height:"15px",viewBox:"0 0 24 24",fill:"none"},[e("path",{class:"dark:stroke-white stroke-black",d:"M14 12C14 14.7614 11.7614 17 9 17H7C4.23858 17 2 14.7614 2 12C2 9.23858 4.23858 7 7 7H7.5M10 12C10 9.23858 12.2386 7 15 7H17C19.7614 7 22 9.23858 22 12C22 14.7614 19.7614 17 17 17H16.5","stroke-width":"2","stroke-linecap":"round"})])],-1),te={class:"flex items-center gap-x-10"},se={class:"flex items-center w-11/12 gap-x-10"},oe={class:"text-center text-lg mt-2 tracking-widest"},ae={class:"!text-base"},ne={class:"flex justify-center gap-x-10 mt-10"},re={class:"flex gap-x-10 w-full"},ie={key:0,class:"flex w-full gap-y-4 flex-col"},le={key:1,class:"w-full"},de={class:"w-3/12"},ce={class:"flex items-center my-4 gap-x-5 justify-center"},ue={class:"flex items-center gap-x-2 w-8/12 max-md:w-9/12"},me=e("div",null,[e("svg",{width:"25px",height:"25px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-v-inspector":"components/TheHeader.vue:26:11"},[e("g",{id:"User / Users_Group","data-v-inspector":"components/TheHeader.vue:27:13"},[e("path",{id:"Vector",class:"dark:stroke-white stroke-black",d:"M17 20C17 18.3431 14.7614 17 12 17C9.23858 17 7 18.3431 7 20M21 17.0004C21 15.7702 19.7659 14.7129 18 14.25M3 17.0004C3 15.7702 4.2341 14.7129 6 14.25M18 10.2361C18.6137 9.68679 19 8.8885 19 8C19 6.34315 17.6569 5 16 5C15.2316 5 14.5308 5.28885 14 5.76389M6 10.2361C5.38625 9.68679 5 8.8885 5 8C5 6.34315 6.34315 5 8 5C8.76835 5 9.46924 5.28885 10 5.76389M12 14C10.3431 14 9 12.6569 9 11C9 9.34315 10.3431 8 12 8C13.6569 8 15 9.34315 15 11C15 12.6569 13.6569 14 12 14Z","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round","data-v-inspector":"components/TheHeader.vue:28:15"})])])],-1),pe={class:"tracking-widest"},fe={class:"rounded-full border border-gray-400 dark:border-white w-10 h-10 flex items-center justify-center dark:text-white"},Se=y({__name:"[id]",props:{showWarning:{type:Boolean,default:!1}},setup(a){const s=M(),p=H();return N(()=>{s.loadDepartment({id:p.params.id})}),V(()=>{b({title:`${s.current_department.name}`})}),(n,d)=>{var x,w,k;return i(),c("div",null,[e("div",K,[o(_,{"text-type":"pageTitle"},{default:r(()=>[m(t(n.$t("Департамент"))+" ",1),e("span",Q,t(l(s).get_department.name),1)]),_:1})]),e("div",X,[o(f,{"breadcrumb-link":"/base/companies"},{default:r(()=>[m(t(n.$t("Компания")),1)]),_:1}),Y,o(f,{"breadcrumb-link":"/base/companies/department"},{default:r(()=>[m(t(n.$t("Департаменты")),1)]),_:1}),ee,o(f,null,{default:r(()=>[m(t(l(s).get_department.name),1)]),_:1})]),e("div",te,[e("div",se,[o(j,{class:"w-7/12"}),o(I)]),o(h,{type:"danger",class:"px-10 py-2 rounded-full",onClick:d[0]||(d[0]=u=>a.showWarning=!0)},{default:r(()=>[m(t(n.$t("Удалить")),1)]),_:1}),a.showWarning?(i(),v(W,{key:0,onShowModal:d[3]||(d[3]=u=>a.showWarning=!a.showWarning)},{default:r(()=>[e("div",null,[o(_,null,{default:r(()=>[m(t(n.$t("Предупреждение")),1)]),_:1}),e("div",oe,[e("p",null,t(n.$t("Вы действительно хотите удалить департамент?")),1),e("p",ae,t(n.$t("Удалённые департаменты восстановке не подлежат")),1)])]),e("div",ne,[o(h,{type:"danger",class:"w-3/12 py-2 rounded-full",onClick:d[1]||(d[1]=u=>a.showWarning=!1)},{default:r(()=>[m(t(n.$t("Отмена")),1)]),_:1}),o(h,{type:"success",class:"w-3/12 py-2 rounded-full",onClick:d[2]||(d[2]=u=>l(s).deleteDepartment({id:l(s).get_department.id},n.$router))},{default:r(()=>[m(t(n.$t("Удалить")),1)]),_:1})])]),_:1})):g("",!0)]),e("div",re,[(x=l(s).get_department)!=null&&x.id?(i(),c("div",le,[(i(!0),c($,null,C((k=(w=l(s))==null?void 0:w.get_department)==null?void 0:k.participants,u=>(i(),v(z,{"user-item":u},null,8,["user-item"]))),256))])):(i(),c("div",ie,[(i(),c($,null,C(5,u=>o(D,{"border-radius":"10px",width:"90%",height:"80px"})),64))])),e("div",de,[o(B,{class:"w-full"},{default:r(()=>{var u;return[o(_,null,{default:r(()=>[m("Информация")]),_:1}),e("div",null,[e("div",ce,[e("div",ue,[me,e("p",pe,t(n.$t("Сотрудников"))+": ",1)]),e("div",null,[e("p",fe,t((u=l(s).get_department.participants)==null?void 0:u.length),1)])])])]}),_:1})])])])}}});export{Se as default};
